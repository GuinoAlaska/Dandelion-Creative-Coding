const originalCtx = drawingContext;

p.drawingContext = new Proxy(originalCtx, {
  set(target, prop, value) {
    mirrorArray.push({ type: 'set', prop, value });
    target[prop] = value;
    return true;
  },
  get(target, prop) {
    const val = target[prop];
    if (typeof val === 'function') {
      return function(...args) {
        mirrorArray.push({ type: 'call', name: prop, args });
        return val.apply(target, args);
      }
    }
    return val;
  }
});

//is not a bad idea for Dandelion-3 bugfix